<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>React With Gulp workflow</title>
    <meta name="description" content="React With Gulp workflow">
    <link rel="stylesheet" href="../bower_components/normalize-css/normalize.css">
    <link rel="stylesheet" href="../base.css">
</head>

<body>
    <h1>React With Gulp workflow</h1>
    <p>
        Just setting it up with a familiar workflow to see if it works
    </p>
    <ul>
        <li>React downloaded via Bower</li>
        <li>Gulp file with babel for compiling JSX</li>
        <li>Also needed .babelrc file with babel-preset-react</li>
        <li>Also used babel-preset-es2015 in .babelrc file for ecma script 6 support (it will be compiled to ES5)</li>
        <li>Gulp for bundle and minify</li>
    </ul>
    <div>
        <h2>package.json for this workflow</h2>
        <code>
            "devDependencies": {
            "babel-preset-es2015": "^6.9.0",
            "babel-preset-react": "^6.11.1",
            "gulp": "^3.9.1",
            "gulp-babel": "^6.1.2",
            "gulp-concat": "^2.6.0",
            "gulp-if": "^2.0.1",
            "gulp-sourcemaps": "^1.6.0",
            "gulp-uglify": "^1.5.4",
            "yargs": "^4.7.1"
        }
        </code>
    </div>

    <div id="react-example"></div>

    <div>
        <hr />
        <h2>Reflections</h2>
        <p>
            Gulp with babel helps us compile ES6 to ES5, and also compiles JSX to JavaScript DOM creation.
        </p>
        <p>
            What we have problems with however is the modular system.
        </p>
        <ul>
            <li>ES6 language for import gets compiled to require syntax</li>
            <li>We need to reference require</li>
            <li>When we do that it complains that imported components have not been loaded</li>
            <li>Require uses a callback syntax for require and act when loaded</li>
        </ul>
        <p>
            We could use ES6 class system, which we labbed a little bit with, but it is not optimal because:
        </p>
        <ul>
            <li>Since we can not use the modular system we have to be sure that files are references in the correct order, big hassle</li>
            <li>By default every class is global</li>
        </ul>
        <h2>Conclusion</h2>
        <p>
            With Angular and Typescript we have a name spaces and a C# like type system. Also with Angular, 
            order of references (except modules, which have to come first) does not matter. 
        </p>
        <p>
            With Angular and ES6, we will still have the problem with globals.
        </p>
        <p>
            With React, all roads point to Webpack. Webpack + Babel can do the same as Gulp + Babel.
            Also, we get the module system at compile time (without RequireJS).
        </p>
        <hr />
    </div>



    <!--<script src="../bower_components/requirejs/require.js"></script>-->
    <script src="bld/lib.js"></script>
    <script src="bld/app.js"></script>
</body>

</html>